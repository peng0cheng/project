<table class="i_table">
	<tr id="test_" title="
		&#10;创建一个调色板图像
		&#10;可以表示 128 种颜色
		&#10;适合 GIF 图片">
		<td>【准备画布】</td>
		<td><p><font class="g">画布变量</font> = <font class="w b">imagecreate</font>( <font class="r">长</font> , <font class="r">宽</font> )</p></td>
	</tr>
	<tr id="test_" title="
		&#10;创建一个真彩色图像
		&#10;可以表示 65535 种颜色
		&#10;适合 jpg 和 png 图片">
		<td>【准备画布】</td>
		<td><p><font class="g">画布变量</font> = <font class="w b">imagecreatetruecolor</font>( <font class="r">长</font> , <font class="r">宽</font> )</p></td>
	</tr>
<tr class="line"><td></td><td></td></tr>
	<tr id="test_" title="预设置几种颜色 方便调用">
		<td>【预设颜色】</td>
		<td><p><font class="g">颜色变量</font> = <font class="w b">imagecolorallocate</font>( <font class="g">画布变量</font> , <font class="o">颜色</font> )</p></td>
	</tr>
<tr class="line"><td></td><td></td></tr>
	<tr id="test_" title="">
		<td>【绘图】【填充背景】</td>
		<td><p><font class="w b">imagefill</font>( <font class="g">画布变量</font> , <font class="r">起始横座标</font> , <font class="r">起始纵座标</font> , <font class="g">颜色变量</font> )</p></td>
	</tr>
	<tr id="test_" title="">
		<td>【绘图】【实心矩形】</td>
		<td><p><font class="w b">imagefilledrectangle</font>( <font class="g">画布变量</font> , <font class="r">起始横座标</font> , <font class="r">起始纵座标</font> , <font class="r">距形宽度</font> , <font class="r">距形高度</font> , <font class="g">颜色变量</font> )</p></td>
	</tr>
	<tr id="test_" title="">
		<td>【绘图】【距形】</td>
		<td><p><font class="w b">imagerectangle</font>( <font class="g">画布变量</font> , <font class="r">起始横座标</font> , <font class="r">起始纵座标</font> , <font class="r">距形宽度</font> , <font class="r">距形高度</font> , <font class="g">颜色变量</font> )</p></td>
	</tr>
	<tr id="test_" title="">
		<td>【绘图】【线段】</td>
		<td><p><font class="w b">imageline</font>( <font class="g">画布变量</font> , <font class="r">起始横座标</font> , <font class="r">起始纵座标</font> , <font class="r">结束横座标</font> , <font class="r">结束纵座标</font> , <font class="g">颜色变量</font> )</p></td>
	</tr>
	<tr id="test_" title="">
		<td>【绘图】【实心圆】</td>
		<td><p><font class="w b">imagefilledellipse</font>( <font class="g">画布变量</font> , <font class="r">圆心横座标</font> , <font class="r">圆心纵座标</font> , <font class="r">横向直径</font> , <font class="r">纵向直径</font> , <font class="g">颜色变量</font> )</p></td>
	</tr>
	<tr id="test_" title="">
		<td>【绘图】【圆】</td>
		<td><p><font class="w b">imageellipse</font>( <font class="g">画布变量</font> , <font class="r">圆心横座标</font> , <font class="r">圆心纵座标</font> , <font class="r">横向直径</font> , <font class="r">纵向直径</font> , <font class="g">颜色变量</font>  )</p></td>
	</tr>
<tr class="line"><td></td><td></td></tr>
	<tr id="test_" title="">
		<td>【输出图像】【jpeg】</td>
		<td><p><font class="w b">header</font>( <font class="w r">'content-type:image/jpeg'</font>  )</p></td>
	</tr>
	<tr id="test_" title="">
		<td>【输出图像】【gif】</td>
		<td><p><font class="w b">header</font>( <font class="w r">'content-type:image/gif'</font>  )</p></td>
	</tr>
	<tr id="test_" title="">
		<td>【输出图像】【png】</td>
		<td><p><font class="w b">header</font>( <font class="w r">'content-type:image/png'</font>  )</p></td>
	</tr>
<tr class="line"><td></td><td></td></tr>
	<tr id="test_" title="">
		<td>【显示或保存】</td>
		<td><p><font class="w b">imagejpeg</font>( <font class="g">画布变量</font>  )</p></td>
	</tr>
<tr class="line"><td></td><td></td></tr>
	<tr id="test_" title="">
		<td>【回收资源】</td>
		<td><p><font class="w b">imagedestory</font>( <font class="g">画布变量</font>  )</p></td>
	</tr>
</table>
<!---------------------------------------------------------------------------------------------------->


<?PHP
[===================================================================================================================================================]
[=================================================================【实例】 【简单画图】=============================================================]
//准备画布资源
$img=imagecreatetruecolor(500,500);
//为画布分配颜色
$red=imagecolorallocate($img,255,0,0);
$green=imagecolorallocate($img,0,255,0);
$blue=imagecolorallocate($img,0,0,255);
$yellow=imagecolorallocate($img,255,153,0);
//使用绘图函数绘制图像
imagefill($img,0,0,$yellow);	//填充背景颜色方法1
imagefilledrectangle($img,0,0,250,250,$red);	//一定区域内填充背景颜色方法2
imagerectangle($img,50,50,450,450,$red);	//画一个矩形边框
imageline($img,50,50,450,450,$green);	//画一条线段
imageline($img,450,50,50,450,$green);	//再画一条线段
imageellipse($img,250,250,100,100,$blue);	//再画一个圆
//使用header函数输出图像类型
header('content-type:image/jpeg');
//显示到浏览器中或保存为文件
imagejpeg($img);
//回收资源
imagedestroy($img);
[=================================================================【实例】 【验证码】===============================================================]
$img=imagecreate(100,30);

//随机生成背景颜色
function bgColor($img){
	return imagecolorallocate($img,mt_rand(0,130),mt_rand(0,130),mt_rand(0,130));//字体色随机，深色
}
//随机生成字体颜色
function fontColor($img){
	return imagecolorallocate($img,mt_rand(130,255),mt_rand(130,255),mt_rand(130,255));//背景色随机，浅色
}

imagefill($img,0,0,bgColor($img));//浅色填满背景
imagerectangle($img,0,0,100-1,30-1,fontColor($img));//深色边框
$txtType=3;	//0->数字 1->大写字母 2->小写字母
$code='';//用于循环验证码的变量
for($i=0;$i<4;$i++){
	switch($txtType){		//根据用户选择类型，生成不同的验证码字符
		case 0:
			$ascii=mt_rand(48,57);//生成一个48~57的ASCII码，数字
			break;
		case 1:
			$ascii=mt_rand(65,90);//生成一个65~90的ASCII码，大写字母
			break;
		case 2:
			$ascii=mt_rand(97,122);//生成一个97~122的ASCII码，小写字母
			break;
		default:
			$type=mt_rand(0,2);
			switch($type){
				case 0:
					$ascii=mt_rand(48,57);//生成一个48~57的ASCII码
					break;
				case 1:
					$ascii=mt_rand(65,90);//生成一个65~90的ASCII码
					break;
				case 2:
					$ascii=mt_rand(97,122);//生成一个97~122的ASCII码
					break;
			}
	}
	$code.=chr($ascii);//将生成的ASCII码变成字符，连接起来
}

//把字符写入图像
for($i=0;$i<4;$i++){
	$x=$i*(100/4)+5;			//横座标，每隔4/1放一个字符
	$y=mt_rand(0,30-15);		//纵座标，纵向位置随机
	imagechar($img,5,$x,$y,$code[$i],fontColor($img));	//将字符写入图像，5是大小的最大值
}


//写干扰元素 点
for($i=0;$i<100*30/50;$i++){imagesetpixel($img,mt_rand(0,100),mt_rand(0,30),fontColor($img));}
//写干扰元素 线
for($i=0;$i<4;$i++){imageline($img,mt_rand(0,100),mt_rand(0,100),mt_rand(0,100),mt_rand(0,100),fontColor($img));}
//写干扰元素 圆弧
for($i=0;$i<4;$i++){imagearc($img,mt_rand(0,100),mt_rand(0,30),mt_rand(0,100/2),mt_rand(0,30/2),mt_rand(0,360),mt_rand(0,360),fontColor($img));}

header('content-type:image/gif');

imagegif($img);

imagedestory($img);

[=================================================================【实例】 【水印】=================================================================]

$bgImg=imagecreatefromjpeg('1.jpg');//背景
$waterImg=imagecreatefromjpeg('2.jpg');//水印

imagecopymerge($bgImg,$waterImg,0,0,0,0,100,50,50);//图片合并 底图,水印,起始横座标,起始纵座标,水印的大小（起始横纵结束横纵）,透明度

header('content-type:image/jpeg');
imagejpeg($bgImg);
imagedestory$($bgImg);




[===================================================================================================================================================]